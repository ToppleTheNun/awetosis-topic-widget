(this["webpackJsonpawetosis-topic-widget"]=this["webpackJsonpawetosis-topic-widget"]||[]).push([[0],{38:function(e,t,n){e.exports=n(50)},43:function(e,t,n){},50:function(e,t,n){"use strict";n.r(t);var a,r=n(0),o=n.n(r),c=n(32),i=n.n(c),u=(n(43),n(21)),l=n(14),m=n(33),s={breakpoints:["40em","52em","64em"],colors:{highlight:"hsla(205, 100%, 40%, 0.125)",eerieBlack:"#1d1e1e",registrationBlack:"#000",pastelGray:"#cecece",shadow:"#867962",oliveDrab:"#6b8311",lightText:"#cecece",darkText:"#1d1e1e"},fonts:{body:"system-ui, sans-serif",heading:"inherit",monospace:"Menlo, monospace"},fontSizes:[12,14,16,20,24,32,48,64,96],fontWeights:{body:400,heading:700,bold:700},lineHeights:{body:1.5,heading:1.25},space:[0,4,8,16,32,64,128,256,512],sizes:{avatar:48},radii:{default:4,circle:99999},shadows:{card:"0 0 4px rgba(0, 0, 0, .125)"},text:{heading:{fontFamily:"heading",lineHeight:"heading",fontWeight:"heading"},display:{fontFamily:"heading",fontWeight:"heading",lineHeight:"heading",fontSize:[5,6,7]},caps:{textTransform:"uppercase",letterSpacing:"0.1em"}},variants:{avatar:{width:"avatar",height:"avatar",borderRadius:"circle"},card:{p:2,bg:"background",boxShadow:"card"},link:{color:"primary"},nav:{fontSize:1,fontWeight:"bold",display:"inline-block",p:2,color:"inherit",textDecoration:"none",":hover,:focus,.active":{color:"primary"}}},buttons:{primary:{variant:"text.caps",fontSize:2,fontWeight:"bold",color:"background",bg:"primary",borderRadius:"default"},outline:{variant:"buttons.primary",color:"primary",bg:"transparent",boxShadow:"inset 0 0 2px"},secondary:{variant:"buttons.primary",color:"background",bg:"secondary"},destructive:{variant:"buttons.primary",color:"background",bg:"destructive",fontWeight:"normal"}},styles:{root:{fontFamily:"body",fontWeight:"body",lineHeight:"body"}}},p=function(e){var t=e.children;return o.a.createElement(m.a,{theme:s},t)},d=n(6),f=n(1),b=function(){return o.a.createElement(f.d,{px:2,bg:"eerieBlack",alignItems:"center"},o.a.createElement(f.f,{color:"lightText",fontWeight:"bold",mx:"auto",p:2,width:[1,.75]},"Awetosis Topics Builder"))},h=n(17),g=n(36);!function(e){e.SECONDS="SECONDS",e.MINUTES="MINUTES",e.HOURS="HOURS"}(a||(a={}));var E=function(e){return 0===e.length?e:"".concat(e.substring(0,1).toUpperCase()).concat(e.substring(1).toLowerCase())},x=function(e){var t={};return e.forEach((function(e,n){t["topic-".concat(n+1,"-text")]=e.text,t["topic-".concat(n+1,"-amount")]=e.amount,t["topic-".concat(n+1,"-unit")]=E(e.unit)})),t},v=function(e){var t,n=e.topics,c=e.setTopics,i=Object(g.a)({defaultValues:x(n)}),u=i.handleSubmit,l=i.register,m=Object(r.useState)(n.length),s=Object(d.a)(m,2),p=s[0],b=s[1],v=u((function(e){for(var t=[],n=1;n<=p;n+=1)t.push({text:e["topic-".concat(n,"-text")],amount:e["topic-".concat(n,"-amount")],unit:e["topic-".concat(n,"-unit")].toUpperCase()});c(t)})),y=Object(r.useCallback)((function(){b((function(e){return e+1}))}),[]);return o.a.createElement(f.a,{as:"form",onSubmit:v,px:2},(t=p,Array.from({length:t},(function(e,t){return t+1}))).map((function(e){var t="topic-".concat(e),n="".concat(t,"-text"),r="".concat(t,"-amount"),c="".concat(t,"-unit");return o.a.createElement(f.c,{key:t,my:2,bg:"white"},o.a.createElement(f.d,{flexWrap:"wrap",px:2,py:2},o.a.createElement(f.a,{width:[1,.5],pr:[0,2]},o.a.createElement(h.b,{htmlFor:n},"Name"),o.a.createElement(h.a,{id:n,name:n,placeholder:"Topic Text Goes Here","data-idx":e,type:"text",ref:l})),o.a.createElement(f.a,{width:[1,.25],px:[0,2],py:[2,0]},o.a.createElement(h.b,{htmlFor:r},"Amount"),o.a.createElement(h.a,{id:r,name:r,defaultValue:"0",type:"number","data-idx":e,ref:l})),o.a.createElement(f.a,{width:[1,.25],px:[0,2],py:[2,0]},o.a.createElement(h.b,{htmlFor:c},"Unit"),o.a.createElement(h.c,{id:c,name:c,defaultValue:E(a.MINUTES),"data-idx":e,ref:l},Object.keys(a).map((function(e){return o.a.createElement("option",{key:e.toLowerCase()},E(e))}))))))})),o.a.createElement(f.d,{flexWrap:"wrap",py:2},p>0&&o.a.createElement(f.f,{color:"darkText",pb:2,width:1},"Leave the name field blank to have the builder ignore a topic.",o.a.createElement("br",null),"You need at least one topic available in order to get to the topic view."),o.a.createElement(f.a,{width:[1,"auto"]},o.a.createElement(f.b,{onClick:y,type:"button",width:[1,"auto"]},"Add Topic")),p>0&&o.a.createElement(f.a,{pl:[0,2],py:[2,0],width:[1,"auto"]},o.a.createElement(f.b,{onClick:v,width:[1,"auto"]},"Submit"))))},y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.SECONDS,n=(null===e||void 0===e?void 0:e.toUpperCase())||"";return a[n]||t},w=function(e){return e.map((function(e){return{text:e.text,amount:"".concat(e.amount),unit:e.unit}}))},O=function(e){try{var t=JSON.parse(e||"[]");return Array.isArray(t)?t.filter((function(e){return e.text&&e.amount})).map((function(e){return{text:e.text,amount:Number(e.amount),unit:y(e.unit)}})):[]}catch(n){return[]}},S=function(){return new URLSearchParams(Object(l.g)().search)},k=function(){var e=S(),t=Object(r.useState)(O(e.get("topics")).filter((function(e){return e.amount>0&&""!==e.text}))),n=Object(d.a)(t,2),a=n[0],c=n[1],i=Object(r.useState)(!1),u=Object(d.a)(i,2),m=u[0],s=u[1],p=Object(r.useCallback)((function(e){c(function(e){return e.map((function(e){return{text:e.text,amount:Number(e.amount),unit:e.unit}}))}(e).filter((function(e){return e.text&&e.amount}))),s(!0)}),[]);return m&&a.length>0?o.a.createElement(l.a,{to:"/display?topics=".concat(JSON.stringify(a))}):o.a.createElement(f.a,{bg:"pastelGray",height:"100vh",width:"100vw"},o.a.createElement(b,null),o.a.createElement(f.a,{mx:"auto",width:[1,.75]},o.a.createElement(v,{topics:w(a),setTopics:p})))},j=n(30),T=n(37),C=Object(r.forwardRef)((function(e,t){var n=e.first,a=e.topic,r=Object(T.a)(e,["first","topic"]);return o.a.createElement(f.c,Object.assign({bg:n?"oliveDrab":"shadow",px:2,py:2,ref:t,width:1},r),o.a.createElement(f.e,{color:"lightText"},a.text))})),N=function(e){var t=e.currentTopic,n=e.markCurrentTopicAsCompleted,c=Object(r.useState)(-1),i=Object(d.a)(c,2),u=i[0],l=i[1];return Object(r.useEffect)((function(){var e=setInterval((function(){l((function(e){return e<0?e:0===e?(n(),e):e-1}))}),1e3);return function(){return clearInterval(e)}}),[n]),Object(r.useEffect)((function(){var e=function(e,t){if(!e||!t)return 0;switch(t){case a.SECONDS:return e;case a.MINUTES:return 60*e;case a.HOURS:return 3600*e}}(null===t||void 0===t?void 0:t.amount,null===t||void 0===t?void 0:t.unit);l(e)}),[t]),u<0||null===t?o.a.createElement(f.a,{bg:"eerieBlack",px:2,py:2},o.a.createElement(f.e,{color:"lightText"},"No Current Topics")):o.a.createElement(f.a,{bg:"eerieBlack",px:2,py:2},o.a.createElement(f.e,{color:"lightText"},u,"s Remaining"))},U=function(){var e=S(),t=Object(r.useState)(O(e.get("topics")).filter((function(e){return e.amount>0&&""!==e.text})).map((function(e,t){return Object(j.a)({},e,{complete:!1,id:t})}))),n=Object(d.a)(t,2),a=n[0],c=n[1],i=Object(r.useMemo)((function(){return a.filter((function(e){return!e.complete}))}),[a]),u=Object(r.useMemo)((function(){return i.length>0?i[0]:null}),[i]),l=Object(r.useCallback)((function(){u&&c((function(e){return e.map((function(e){return e.id===u.id?Object(j.a)({},e,{complete:!0}):e}))}))}),[u]);return o.a.createElement(f.a,null,o.a.createElement(N,{currentTopic:u,markCurrentTopicAsCompleted:l}),i.map((function(e,t){return o.a.createElement(C,{key:"topic-".concat(t),first:0===t,sx:t!==i.length-1?{borderBottom:"1px solid black"}:{},topic:e})})))},W=function(){return o.a.createElement(p,null,o.a.createElement(u.a,null,o.a.createElement(l.d,null,o.a.createElement(l.b,{exact:!0,path:"/display"},o.a.createElement(U,null)),o.a.createElement(l.b,{exact:!0,path:"/"},o.a.createElement(k,null)),o.a.createElement(l.b,null,o.a.createElement(l.a,{to:"/"})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(W,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[38,1,2]]]);
//# sourceMappingURL=main.59718828.chunk.js.map