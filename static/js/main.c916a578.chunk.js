(this["webpackJsonpawetosis-topic-widget"]=this["webpackJsonpawetosis-topic-widget"]||[]).push([[0],{38:function(e,t,a){e.exports=a(50)},43:function(e,t,a){},50:function(e,t,a){"use strict";a.r(t);var n,r=a(0),o=a.n(r),c=a(32),i=a.n(c),l=(a(43),a(28)),u=a(14),s=a(33),m={breakpoints:["40em","52em","64em"],colors:{highlight:"hsla(205, 100%, 40%, 0.125)",eerieBlack:"#1d1e1e",registrationBlack:"#000",pastelGray:"#cecece",shadow:"#867962",oliveDrab:"#6b8311",lightText:"#cecece",darkText:"#1d1e1e"},fonts:{body:"system-ui, sans-serif",heading:"inherit",monospace:"Menlo, monospace"},fontSizes:[12,14,16,20,24,32,48,64,96],fontWeights:{body:400,heading:700,bold:700},lineHeights:{body:1.5,heading:1.25},space:[0,4,8,16,32,64,128,256,512],sizes:{avatar:48},radii:{default:4,circle:99999},shadows:{card:"0 0 4px rgba(0, 0, 0, .125)"},text:{heading:{fontFamily:"heading",lineHeight:"heading",fontWeight:"heading"},display:{fontFamily:"heading",fontWeight:"heading",lineHeight:"heading",fontSize:[5,6,7]},caps:{textTransform:"uppercase",letterSpacing:"0.1em"}},variants:{avatar:{width:"avatar",height:"avatar",borderRadius:"circle"},card:{p:2,bg:"background",boxShadow:"card"},link:{color:"primary"},nav:{fontSize:1,fontWeight:"bold",display:"inline-block",p:2,color:"inherit",textDecoration:"none",":hover,:focus,.active":{color:"primary"}}},buttons:{primary:{variant:"text.caps",fontSize:2,fontWeight:"bold",color:"background",bg:"primary",borderRadius:"default"},outline:{variant:"buttons.primary",color:"primary",bg:"transparent",boxShadow:"inset 0 0 2px"},secondary:{variant:"buttons.primary",color:"background",bg:"secondary"},destructive:{variant:"buttons.primary",color:"background",bg:"destructive",fontWeight:"normal"}},styles:{root:{fontFamily:"body",fontWeight:"body",lineHeight:"body"}}},p=function(e){var t=e.children;return o.a.createElement(s.a,{theme:m},t)},d=a(6),f=a(1),h=function(){return o.a.createElement(f.d,{px:2,bg:"eerieBlack",alignItems:"center"},o.a.createElement(f.f,{color:"lightText",fontWeight:"bold",mx:"auto",p:2,width:[1,.75]},"Awetosis Topics Builder"))},b=a(17),g=a(36);!function(e){e.SECONDS="SECONDS",e.MINUTES="MINUTES",e.HOURS="HOURS"}(n||(n={}));var E=function(e){return 0===e.length?e:"".concat(e.substring(0,1).toUpperCase()).concat(e.substring(1).toLowerCase())},x=function(e){var t={};return e.forEach((function(e,a){t["topic-".concat(a+1,"-text")]=e.text,t["topic-".concat(a+1,"-amount")]=e.amount,t["topic-".concat(a+1,"-unit")]=E(e.unit)})),t},w=function(e){var t,a=e.topics,c=e.setTopics,i=Object(g.a)({defaultValues:x(a)}),l=i.handleSubmit,u=i.register,s=Object(r.useState)(a.length),m=Object(d.a)(s,2),p=m[0],h=m[1],w=l((function(e){for(var t=[],a=1;a<=p;a+=1)t.push({text:e["topic-".concat(a,"-text")],amount:e["topic-".concat(a,"-amount")],unit:e["topic-".concat(a,"-unit")].toUpperCase()});c(t)})),v=Object(r.useCallback)((function(){h((function(e){return e+1}))}),[]);return o.a.createElement(f.a,{as:"form",onSubmit:w,px:2},(t=p,Array.from({length:t},(function(e,t){return t+1}))).map((function(e){var t="topic-".concat(e),a="".concat(t,"-text"),r="".concat(t,"-amount"),c="".concat(t,"-unit");return o.a.createElement(f.c,{key:t,my:2,bg:"white"},o.a.createElement(f.d,{flexWrap:"wrap",px:2,py:2},o.a.createElement(f.a,{width:[1,.5],pr:[0,2]},o.a.createElement(b.b,{htmlFor:a},"Name"),o.a.createElement(b.a,{id:a,name:a,placeholder:"Topic Text Goes Here","data-idx":e,type:"text",ref:u})),o.a.createElement(f.a,{width:[1,.25],px:[0,2],py:[2,0]},o.a.createElement(b.b,{htmlFor:r},"Amount"),o.a.createElement(b.a,{id:r,name:r,defaultValue:"0",type:"number","data-idx":e,ref:u})),o.a.createElement(f.a,{width:[1,.25],px:[0,2],py:[2,0]},o.a.createElement(b.b,{htmlFor:c},"Unit"),o.a.createElement(b.c,{id:c,name:c,defaultValue:E(n.MINUTES),"data-idx":e,ref:u},Object.keys(n).map((function(e){return o.a.createElement("option",{key:e.toLowerCase()},E(e))}))))))})),o.a.createElement(f.d,{flexWrap:"wrap",py:2},p>0&&o.a.createElement(f.f,{color:"darkText",pb:2,width:1},"Leave the name field blank to have the builder ignore a topic.",o.a.createElement("br",null),"You need at least one topic available in order to get to the topic view."),o.a.createElement(f.a,{width:[1,"auto"]},o.a.createElement(f.b,{onClick:v,type:"button",width:[1,"auto"]},"Add Topic")),p>0&&o.a.createElement(f.a,{pl:[0,2],py:[2,0],width:[1,"auto"]},o.a.createElement(f.b,{onClick:w,width:[1,"auto"]},"Submit"))))},v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.SECONDS,a=(null===e||void 0===e?void 0:e.toUpperCase())||"";return n[a]||t},y=function(e){return e.map((function(e){return{text:e.text,amount:"".concat(e.amount),unit:e.unit}}))},S=function(e){try{var t=JSON.parse(e||"[]");return Array.isArray(t)?t.filter((function(e){return e.text&&e.amount})).map((function(e){return{text:e.text,amount:Number(e.amount),unit:v(e.unit)}})):[]}catch(a){return[]}},O=S(new URLSearchParams(window.location.search).get("topics")).filter((function(e){return e.amount>0&&""!==e.text})),k=function(){var e=Object(r.useState)(O),t=Object(d.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(!1),i=Object(d.a)(c,2),l=i[0],s=i[1],m=Object(r.useCallback)((function(e){n(function(e){return e.map((function(e){return{text:e.text,amount:Number(e.amount),unit:e.unit}}))}(e).filter((function(e){return e.text&&e.amount}))),s(!0)}),[]);return l&&a.length>0?o.a.createElement(u.a,{to:"/display?topics=".concat(JSON.stringify(a))}):o.a.createElement(f.a,{bg:"pastelGray",height:"100vh",width:"100vw"},o.a.createElement(h,null),o.a.createElement(f.a,{mx:"auto",width:[1,.75]},o.a.createElement(w,{topics:y(a),setTopics:m})))},j=a(30),T=a(37),C=Object(r.forwardRef)((function(e,t){var a=e.first,n=e.topic,r=Object(T.a)(e,["first","topic"]);return o.a.createElement(f.c,Object.assign({bg:a?"oliveDrab":"shadow",px:2,py:2,ref:t,width:1},r),o.a.createElement(f.e,{color:"lightText"},n.text))})),N=function(e){var t=e.currentTopic,a=e.markCurrentTopicAsCompleted,c=Object(r.useState)(-1),i=Object(d.a)(c,2),l=i[0],u=i[1];return Object(r.useEffect)((function(){var e=setInterval((function(){u((function(e){return e<0?e:0===e?(a(),e):e-1}))}),1e3);return function(){return clearInterval(e)}}),[a]),Object(r.useEffect)((function(){var e=function(e,t){if(!e||!t)return 0;switch(t){case n.SECONDS:return e;case n.MINUTES:return 60*e;case n.HOURS:return 3600*e}}(null===t||void 0===t?void 0:t.amount,null===t||void 0===t?void 0:t.unit);u(e)}),[t]),l<0||null===t?o.a.createElement(f.a,{bg:"eerieBlack",px:2,py:2},o.a.createElement(f.e,{color:"lightText"},"No Current Topics")):o.a.createElement(f.a,{bg:"eerieBlack",px:2,py:2},o.a.createElement(f.e,{color:"lightText"},l,"s Remaining"))},U=S(new URLSearchParams(window.location.search).get("topics")).filter((function(e){return e.amount>0&&""!==e.text})).map((function(e,t){return Object(j.a)({},e,{complete:!1,id:t})})),W=function(){var e=Object(r.useState)(U),t=Object(d.a)(e,2),a=t[0],n=t[1],c=Object(r.useMemo)((function(){return a.filter((function(e){return!e.complete}))}),[a]),i=Object(r.useMemo)((function(){return c.length>0?c[0]:null}),[c]),l=Object(r.useCallback)((function(){i&&n((function(e){return e.map((function(e){return e.id===i.id?Object(j.a)({},e,{complete:!0}):e}))}))}),[i]);return o.a.createElement(f.a,null,o.a.createElement(N,{currentTopic:i,markCurrentTopicAsCompleted:l}),c.map((function(e,t){return o.a.createElement(C,{key:"topic-".concat(t),first:0===t,sx:t!==c.length-1?{borderBottom:"1px solid black"}:{},topic:e})})))},B=function(){return o.a.createElement(p,null,o.a.createElement(l.a,null,o.a.createElement(u.d,null,o.a.createElement(u.b,{exact:!0,path:"".concat("/awetosis-topic-widget","/display")},o.a.createElement(W,null)),o.a.createElement(u.b,{exact:!0,path:"".concat("/awetosis-topic-widget","/")},o.a.createElement(k,null)),o.a.createElement(u.b,null,o.a.createElement(u.a,{to:"".concat("/awetosis-topic-widget","/")})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(B,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[38,1,2]]]);
//# sourceMappingURL=main.c916a578.chunk.js.map